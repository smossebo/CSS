# Contextual Protocol Space Configuration
# Contains 480+ protocol combinations as described in Table 4

protocol_space:
  size: 480
  description: "Contextual protocol space with 480+ deterministic sorting criteria"
  
  # Primary Attributes (5 options)
  primary_attributes:
    content_hash:
      id: "PHASH"
      description: "Cryptographic hash of file content"
      algorithms:
        - "sha256"
        - "sha512"
        - "md5"
        - "blake2b"
      stability: "high"
      resistance_to_modification: "very_high"
      
    file_size:
      id: "PSIZE"
      description: "File size in bytes"
      stability: "medium"
      resistance_to_modification: "medium"
      
    creation_timestamp:
      id: "PCTIME"
      description: "File creation timestamp"
      stability: "low"
      resistance_to_modification: "low"
      
    modification_timestamp:
      id: "PMTIME"
      description: "File last modification timestamp"
      stability: "very_low"
      resistance_to_modification: "very_low"
      
    filename:
      id: "PFNAME"
      description: "Filename lexicographically"
      stability: "high"
      resistance_to_modification: "high"

  # Secondary Attributes for tie-breaking (4 options)
  secondary_attributes:
    none:
      id: "SNONE"
      description: "No secondary attribute"
      
    file_size:
      id: "SSIZE"
      description: "File size as tie-breaker"
      
    timestamp:
      id: "STIME"
      description: "Timestamp as tie-breaker"
      
    filename:
      id: "SFNAME"
      description: "Filename as tie-breaker"

  # Sorting Orders (2 options)
  sort_orders:
    ascending:
      id: "OASC"
      description: "Ascending order"
      
    descending:
      id: "ODESC"
      description: "Descending order"

  # Attribute Combinations (3 options)
  combinations:
    single:
      id: "CSINGLE"
      description: "Single attribute only"
      
    primary_secondary:
      id: "CPRIMSEC"
      description: "Primary then secondary attribute"
      
    weighted_composite:
      id: "CWEIGHTED"
      description: "Weighted composite of multiple attributes"
      weights:
        file_size: 0.4
        timestamp: 0.3
        filename: 0.3

  # Custom Transformations (4+ options)
  transformations:
    none:
      id: "TNONE"
      description: "No transformation"
      
    bit_reverse:
      id: "TBITREV"
      description: "Bit reversal transformation"
      algorithm: "reverse_bits(hash)"
      
    byte_swap:
      id: "TBYTESWAP"
      description: "Byte swapping transformation"
      algorithm: "swap_bytes(hash)"
      
    custom_hash:
      id: "TCUSTOM"
      description: "Custom hash function"
      algorithm: "sha256(sha256(content) + timestamp)"
      
    xor_transform:
      id: "TXOR"
      description: "XOR with constant"
      constant: "0xDEADBEEF"
      
    permutation:
      id: "TPERM"
      description: "Custom permutation"
      permutation: [3, 1, 4, 2, 5]

# Pre-defined Protocol Templates (48 example protocols)
protocol_templates:
  
  # Content-based protocols (highest stability)
  content_based:
    - id: "P001"
      name: "SHA256_Size_Asc"
      description: "Sort by SHA-256 hash, then by file size, ascending"
      primary_attribute: "content_hash"
      hash_algorithm: "sha256"
      secondary_attribute: "file_size"
      sort_order: "ascending"
      combination: "primary_secondary"
      transformation: "none"
      security_level: "high"
      recommended_for: ["archival", "static_data"]
      
    - id: "P002"
      name: "SHA512_Time_Desc"
      description: "Sort by SHA-512 hash, then by timestamp, descending"
      primary_attribute: "content_hash"
      hash_algorithm: "sha512"
      secondary_attribute: "timestamp"
      sort_order: "descending"
      combination: "primary_secondary"
      transformation: "none"
      security_level: "very_high"
      recommended_for: ["sensitive_data", "long_term"]

  # Size-based protocols (medium stability)
  size_based:
    - id: "P101"
      name: "SizeOnly_Asc"
      description: "Sort by file size only, ascending"
      primary_attribute: "file_size"
      secondary_attribute: "none"
      sort_order: "ascending"
      combination: "single"
      transformation: "none"
      security_level: "medium"
      recommended_for: ["quick_operations", "temporary"]
      
    - id: "P102"
      name: "Size_Name_Desc"
      description: "Sort by file size, then by filename, descending"
      primary_attribute: "file_size"
      secondary_attribute: "filename"
      sort_order: "descending"
      combination: "primary_secondary"
      transformation: "none"
      security_level: "medium"
      recommended_for: ["mixed_environments"]

  # Time-based protocols (lower stability)
  time_based:
    - id: "P201"
      name: "CreateTime_Asc"
      description: "Sort by creation time, ascending"
      primary_attribute: "creation_timestamp"
      secondary_attribute: "none"
      sort_order: "ascending"
      combination: "single"
      transformation: "none"
      security_level: "low"
      recommended_for: ["temporary", "volatile_data"]
      
    - id: "P202"
      name: "ModTime_Size_Desc"
      description: "Sort by modification time, then by size, descending"
      primary_attribute: "modification_timestamp"
      secondary_attribute: "file_size"
      sort_order: "descending"
      combination: "primary_secondary"
      transformation: "bit_reverse"
      security_level: "low"
      recommended_for: ["dynamic_environments"]

  # Filename-based protocols
  filename_based:
    - id: "P301"
      name: "Filename_Asc"
      description: "Sort by filename alphabetically, ascending"
      primary_attribute: "filename"
      secondary_attribute: "none"
      sort_order: "ascending"
      combination: "single"
      transformation: "none"
      security_level: "medium"
      recommended_for: ["organized_data", "document_repos"]
      
    - id: "P302"
      name: "Filename_Size_Desc"
      description: "Sort by filename, then by size, descending"
      primary_attribute: "filename"
      secondary_attribute: "file_size"
      sort_order: "descending"
      combination: "primary_secondary"
      transformation: "byte_swap"
      security_level: "medium"
      recommended_for: ["mixed_files"]

  # Composite protocols (weighted combinations)
  composite:
    - id: "P401"
      name: "Weighted_Composite_Asc"
      description: "Weighted composite of size (40%), time (30%), name (30%)"
      primary_attribute: "composite"
      combination: "weighted_composite"
      sort_order: "ascending"
      transformation: "none"
      security_level: "high"
      recommended_for: ["balanced_requirements"]
      
    - id: "P402"
      name: "Custom_Hash_Desc"
      description: "Custom hash with transformation, descending"
      primary_attribute: "content_hash"
      hash_algorithm: "custom"
      combination: "single"
      sort_order: "descending"
      transformation: "custom_hash"
      security_level: "very_high"
      recommended_for: ["high_security"]

# Protocol Rotation Schedules
protocol_rotation:
  daily:
    schedule: "0 0 * * *"  # Midnight daily
    protocols: ["P001", "P101", "P201", "P301"]
    
  weekly:
    schedule: "0 0 * * 0"  # Sunday midnight
    protocols: ["P002", "P102", "P202", "P302", "P402"]
    
  monthly:
    schedule: "0 0 1 * *"  # First day of month
    protocols: ["P001", "P002", "P401", "P402"]
    
  adaptive:
    based_on: "folder_stability"
    low_stability: ["P201", "P202"]  # Time-based for volatile
    medium_stability: ["P101", "P102", "P301", "P302"]
    high_stability: ["P001", "P002", "P401", "P402"]

# Protocol Selection Criteria
selection_criteria:
  by_stability:
    very_high: ["P001", "P002", "P402"]
    high: ["P001", "P002", "P401", "P402"]
    medium: ["P101", "P102", "P301", "P302"]
    low: ["P201", "P202"]
    
  by_security:
    maximum: ["P002", "P402"]
    high: ["P001", "P002", "P401", "P402"]
    standard: ["P101", "P102", "P301", "P302", "P401"]
    basic: ["P201", "P202", "P301"]
    
  by_performance:
    fastest: ["P101", "P201", "P301"]
    balanced: ["P001", "P102", "P302", "P401"]
    secure_slower: ["P002", "P402"]
    
  by_environment:
    static_archival: ["P001", "P002"]
    enterprise_mixed: ["P101", "P301", "P401"]
    dynamic_collaborative: ["P201", "P202"]
    high_security: ["P002", "P402"]

# Default Protocol Configuration
defaults:
  primary_protocol: "P001"
  fallback_protocols: ["P101", "P301"]
  emergency_protocol: "P201"
  
  validation:
    check_interval: 3600  # Validate protocols every hour
    max_protocol_age: 2592000  # 30 days maximum
    rotation_threshold: 0.8  # Rotate when 80% of files would change order
